\chapter{Vehicle and System Modelling} \label{seq:dynamics}

In this chapter...

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2D Vehicle-Pendulum System
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{2D System} \label{sec:dynamicmodel}

Figure \ref{fig:2d_quadrotor} shows a image. The graph shows \ac{alpha}.

\def\iangle{-20} % Angle of the inclined plane
\begin{figure}[h]
    \centering
    \begin{tikzpicture}[axis/.style={densely dashed,gray,font=\small}]
        \tikzstyle{every node}=[font=\small]
        \draw[axis,->,solid,shorten >=0.5pt] (-1.3,0)
            arc(180:180-19:1.3);
        \node[axis] at (171:1.5) {$\theta$};
        \draw[axis,->,solid,shorten >=0.5pt] (0,-1.3)
            arc(-90:-90-44:1.3);
        \node[axis] at (-110:1.5) {$\alpha$};
        
        \begin{scope}[rotate=\iangle]
        \node [quad_body,transform shape] (M) {$P_{M}$};
        \node [coordinate, left of = M, node distance=1.7cm,transform shape] (left) {};
        \node [coordinate, right of = M, node distance=1.7cm,transform shape] (right) {};
        \node [coordinate, above of = left, node distance=5pt,transform shape] (left_up) {};
        \node [coordinate, above of = right, node distance=5pt,transform shape] (right_up) {};

        \node [coordinate, above of = left_up, node distance=0.8cm,transform shape] (f1) {};
        \node [coordinate, above of = right_up, node distance=0.8cm,transform shape] (f2) {};
        
        \draw[line width=1pt,transform shape] (left) -- (left_up);
        \draw[line width=1pt,transform shape] (right) -- (right_up);
        \draw[-,fill=blue!20] (left_up) ellipse (7pt and 2pt);
        \draw[-,fill=blue!20] (right_up) ellipse (7pt and 2pt);
        \draw[line width=2pt] (M) -- (left);
        \draw[line width=2pt] (M) -- (right);
        \end{scope}
        
        \node[draw,circle,minimum size = 0.5cm,fill=lightgray] (mass) at (-2,-2)  {$p_{m}$};
        \draw[-] (M) -- (mass);
        
        \draw[axis,->] (M) -- ++(2,0) node[right] {$x$};
        \draw[axis,->] (M) -- ++(-2,0) node[right] {};
        \draw[axis,->] (M) -- ++(0,1.7) node[above] {$z$};
        \draw[axis,->] (M) -- ++(0,-1.7) node[above] {};
        
        \draw[>=latex,->,draw=blue] (left_up) -- (f1) node[above] {$f_{1}$};
        \draw[>=latex,->,draw=blue] (right_up) -- (f2) node[above] {$f_{2}$};
        \draw[>=latex,->,draw=blue] (M) -- ++(0,-1) node[right] {$g$};
    \end{tikzpicture}
    \caption{Two-dimensional Model of a Quadrotor with a Suspended Payload}
    \label{fig:2d_quadrotor}
\end{figure}
